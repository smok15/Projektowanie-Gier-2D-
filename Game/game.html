<!DOCTYPE html>
<html>
	<body>
	  <canvas id="myCanvas" width="800" height="600" style="border:1px solid #000000;">
	  </canvas>
	</body>
	
	<script>
	var c = document.getElementById("myCanvas");
	var ctx= c.getContext('2d');
	var canvasWidth= 800;
	var canvasHeight= 600;
	var boundaryL=-375;
	var boundaryR=375;
	var rectSize = 50;
	var halfRect = rectSize/2;
	var left = -5;
	var right = 5;
	var change = 0;
	
	rect = ctx.rect((canvasWidth/2)-halfRect,canvasHeight-rectSize,rectSize,rectSize);
	ctx.fillStyle="red";
	ctx.fill();
	ctx.stroke();
	
	document.addEventListener('keydown', function (e) {
        switch (e.keyCode) {
            case 37:
                drawL();
                break;
            case 39:
				drawR();
                break;
			case 32:
                bullet();
                break;
        }
    });
	
	function drawL(x)
	{	
		if(change>boundaryL){
			ctx.clearRect(0,0, 800,600);
			ctx.beginPath();
			change -= 5;
			ctx.rect((canvasWidth/2)-halfRect+ change,canvasHeight-rectSize,rectSize,rectSize);
			ctx.fillStyle="red";
			ctx.fill();
			ctx.stroke();			
			ctx.closePath();
		}else {
            return;
        }
	}

	function drawR(x)
	{	
		if(change<boundaryR){
			ctx.clearRect(0,0, 800,600);
			ctx.beginPath();
			change += 5;
			ctx.rect((canvasWidth/2)-halfRect+ change,canvasHeight-rectSize,rectSize,rectSize);
			ctx.fillStyle="red";
			ctx.fill();
			ctx.stroke();			
			ctx.closePath();
		}else {
            return;
        }
	}

	function bullet(x)
	{	
		if(change<boundaryR){
			ctx.clearRect(0,0, 800,600);
			ctx.beginPath();
			ctx.rect((canvasWidth/2)-halfRect+ change,canvasHeight-rectSize,rectSize,rectSize);
			ctx.arc((canvasWidth/2)+ change,canvasHeight-rectSize,10,0,Math.PI*2,true);
			ctx.fillStyle="red";
			ctx.fill();
			ctx.stroke();			
			ctx.closePath();
		}else {
            return;
        }
	}
	</script>
</html>