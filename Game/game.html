<!DOCTYPE html>
<html>
	<body>
	  <canvas id="myCanvas" width="800" height="600" style="border:1px solid #000000;">
	  </canvas>
	</body>
	
	<script>
	var c = document.getElementById("myCanvas");
	var ctx= c.getContext('2d');
	
	var rectWidth = 50;
	var rectHeight = 30;

	
	var rectX = (c.width-rectWidth)/2;
	var rectY = c.height-rectHeight;
	
	var radius = 10;
	var bulletX = rectX+(rectWidth/2);
	var bulletY = rectY-radius;
	var vel =8;
	
	var leftFlag=false;
	var rightFlag=false;
	var shootFlag=false;
	
	
	function drawRect(){
		ctx.beginPath();
		ctx.rect(rectX,rectY,rectWidth,rectHeight);
		ctx.fillStyle="red";
		ctx.fill();
		ctx.closePath();
	}
	
	function drawBullet(){
		ctx.beginPath();
		ctx.arc(rectX+(rectWidth/2),bulletY,radius,0,Math.PI*2,true);
		ctx.fillStyle="red";
		ctx.fill();
		ctx.closePath();
	}
	
	function draw(){
			ctx.clearRect(0,0, 800,600);
			drawRect();
	}
	
	function bulletLogic(){
		if(bulletY>0 && shootFlag){
			ctx.clearRect(0,0, 800,600);
			drawRect();
			drawBullet();
			bulletY-=vel;
		}else{
			bulletY=rectY-radius;
			shootFlag=false;
		}
	}

	
	document.addEventListener('keydown', function (e) {
        switch (e.keyCode) {
            case 37:
				if(rectX>0)rectX-=vel;
				draw();
                break;
            case 39:
				if(rectX<800-rectWidth)rectX+=vel;
				draw();
                break;
			case 32:
				shootFlag=true;
				setInterval(bulletLogic,10);
                break;
        }
    });
	
	
	</script>
</html>